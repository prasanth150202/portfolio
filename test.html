!-- Include Bootstrap & Font Awesome & GSAP -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<section id="stock-section" style="height: 100vh; background: #111; color: white; display: flex; align-items: center; justify-content: center;">
  <div id="animated-card" class="card bg-dark text-white p-4 text-center" style="width: 24rem;">
    <div class="card-body">
      <div class="mb-3">
        <i id="card-icon" class="fa-solid fa-mouse-pointer fa-3x text-warning"></i>
      </div>
      <h5 id="card-title" class="card-title">Turn Visitors into Buyers</h5>
      <p id="card-text" class="card-text">UX That Converts</p>
    </div>
  </div>
</section>

<script>
  gsap.registerPlugin(ScrollTrigger);

  const cardData = [
    {
      icon: "fa-mouse-pointer",
      title: "Turn Visitors into Buyers",
      text: "UX That Converts"
    },
    {
      icon: "fa-chart-bar",
      title: "Increase Order Value",
      text: "Smart Features That Upsell"
    },
    {
      icon: "fa-cart-arrow-down",
      title: "Reduce Abandonment",
      text: "Recover More Sales"
    },
    {
      icon: "fa-gauge-high",
      title: "Rank Higher, Load Faster",
      text: "Boost Your SEO & Speed"
    },
    {
      icon: "fa-database",
      title: "Make Data Work for You",
      text: "Insight-Driven Decisions"
    },
    {
      icon: "fa-rocket",
      title: "Results 10X Growth",
      text: "Scale With Confidence"
    }
  ];

  const iconEl = document.getElementById("card-icon");
  const titleEl = document.getElementById("card-title");
  const textEl = document.getElementById("card-text");
  const animatedCard = document.getElementById("animated-card");

  gsap.to({}, {
    scrollTrigger: {
      trigger: "#stock-section",
      start: "top top",
      end: "+=2000",
      scrub: true,
      pin: true,
      onUpdate: (self) => {
        const progress = self.progress;
        const index = Math.floor(progress * (cardData.length - 1));

        const currentData = cardData[index];

        // Only update if different
        if (!iconEl.classList.contains(currentData.icon)) {
          gsap.to(animatedCard, {
            y: -20,
            opacity: 0,
            duration: 0.3,
            onComplete: () => {
              // Replace only icon class (keep fa-solid)
              iconEl.className = `fa-solid ${currentData.icon} fa-3x text-warning`;
              titleEl.textContent = currentData.title;
              textEl.textContent = currentData.text;

              gsap.set(animatedCard, { y: 30 });
              gsap.to(animatedCard, { y: 0, opacity: 1, duration: 0.3 });
            }
          });
        }
      }
    }
  });
</script>
